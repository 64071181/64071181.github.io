


























<!--
/* $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

        :::   :::       ::::::::       :::    :::           :::        :::    :::       :::::::::::
      :+:+: :+:+:     :+:    :+:      :+:   :+:          :+: :+:      :+:   :+:            :+:
    +:+ +:+:+ +:+    +:+    +:+      +:+  +:+          +:+   +:+     +:+  +:+             +:+
   +#+  +:+  +#+    +#+    +:+      +#++:++          +#++:++#++:    +#++:++              +#+
  +#+       +#+    +#+    +#+      +#+  +#+         +#+     +#+    +#+  +#+             +#+
 #+#       #+#    #+#    #+#      #+#   #+#        #+#     #+#    #+#   #+#            #+#
###       ###     ########       ###    ###       ###     ###    ###    ###       ###########

202410211001                                         mokaki
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
-->

<!DOCTYPE html>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>莫氏倉庫管理系統</title>

  <style id="ChangCss">

    .限AdminBtn{display:none;}
    #searchInput, #VipPegaIDInput, #網頁標題Input {width: 95%;padding: 10px;border: none;border-radius: 5px;background-color: rgba(42, 42, 58, 0.8);color: #e0e0e0;font-size: 1em;backdrop-filter: blur(5px);    }
    #searchInput:focus {outline: none;box-shadow: 0 0 0 2px #4fd1c5;    }


    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f0f0f0;}
    .container { max-width: 100%; padding: 10px;}
    header { background-color: #d141db; color: white; text-align: center; padding: 1em;}
    nav { background-color: #3e3e3e; padding: 10px; display: flex; justify-content: space-around; flex-wrap: wrap;}
    nav a, nav .dropdown{ color: white; text-decoration: none; padding: 10px; margin: 5px; flex-grow: 1; text-align: center; background-color: #d141db; border-radius: 5px; }
    nav a{display: flex;justify-content: center; /* 水平置中 */align-items: center; /* 垂直置中 */}

    .dropdown-content {  transition: height 1s ease; /* 變更高度的過渡效果 */  overflow: hidden; /* 隱藏溢出的內容 */  height: 0; /* 初始高度為0 */  background-color: rgba(0, 0, 0, 0);  text-align: center;  z-index: 1000;}
    .dropdown-content a {color: black;text-decoration: none;display: block;text-align: center;background-color: #d141db;}
    .dropdown-content a:hover {background-color: #5fb8f3;}

    .content { background-color: white; padding: 15px; margin-top: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    .inventory-item { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 5px;}
    .inventory-item h3 { margin-top: 0; margin-right: 2%;}
    .inventory-detail { display: flex; justify-content: space-between; flex-wrap: wrap;}
    .inventory-detail p { margin: 5px 0; flex-basis: 48%;}
    .btn { background-color: #d141db; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px; margin-top: 10px; width: 100%; text-align: center;}
    .btn:hover { background-color: #3e3e3e;}
    .edit-mode input { width: 100%; box-sizing: border-box; padding: 5px; margin-bottom: 5px;}

    .product-images {    height: 0px; /* 預設高度 */overflow: hidden; /* 隱藏超出部分 */}
    .product-images { display: flex; justify-content: space-between; flex-wrap: wrap; margin-top: 15px;}
    .product-images img { width: 32%; margin-bottom: 10px; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.1);}
    
    @media (min-width: 768px) { .container {   padding: 20px; }
      .inventory-item {   display: flex;   justify-content: space-between;   align-items: center; }
      .inventory-detail {   flex-grow: 1; }
      .btn {   width: auto;   margin-left: 10px; }
      .product-images img {   width: 24%; }
    }

    /* 隱藏顯示版塊 */    
    .container {height: 100vh; /* 設定父容器的高度 */overflow: hidden; /* 確保內容不會超出父容器 */}
    .section { max-height: 0;overflow: hidden;transition: max-height 0.5s ease;    }
    .section.active { max-height: calc(100% - 50px); /* 設定為父容器的 100% */overflow-y: auto; /* 顯示滾動條 */}
    
    /* 滾動條美化 Firefox */
    * { scrollbar-width: none; /* 滾動條寬度 */}
    /* 返回頂端 */
    #backToTopBtn {position: relative;bottom: 30px;left: 90%;z-index: 99;background-color: #297fb900;color: white;border: none;padding: 10px 15px;border-radius: 50%;cursor: pointer;}
    #backToTopBtn:hover {background-color: #5fb8f3;}

    .none{display:none;}

  </style>

  <script src="https://code.jquery.com/jquery-3.7.0.js">//jq</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js">//shr256</script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js">//QRcode</script>


  <script src="https://64071181.github.io/mokJsapi/a.js">//琪琪修改</script>


  </head>





























<!--
/* $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

      :::::::::       ::::::::       :::::::::    :::   :::
     :+:    :+:     :+:    :+:      :+:    :+:   :+:   :+:
    +:+    +:+     +:+    +:+      +:+    +:+    +:+ +:+
   +#++:++#+      +#+    +:+      +#+    +:+     +#++:
  +#+    +#+     +#+    +#+      +#+    +#+      +#+
 #+#    #+#     #+#    #+#      #+#    #+#      #+#
#########       ########       #########       ###

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
-->

<body>

  <header>
    <h1 id="本公司名稱">莫氏倉庫管理系統</h1>
    <p id="translate"></p>
  </header>

  <nav>
    <a href="javascript:void(0);" id="庫存btn" onclick="_導航換頁('庫存')" class="page用btn" >庫存</a>
    <div class="dropdown">
      <a href="javascript:void(0);" onclick="window.location.href=`${location.href}#???`;_vipLogin分流('???','莫氏倉庫管理系統','../login.html')" >免費使用</a>
    </div>
  </nav>

  <div class="container">

    <section id="庫存page" class="section active">
        <div class="content">
          <h2>庫存概覽</h2>
          <input type="text" id="searchInput" placeholder="搜索產品編號、產品條碼、庫存位置、負責人...任何關鍵字" title="搜索產品編號、產品條碼、庫存位置、負責人...任何關鍵字">
          <br><br>
          <div id="inventory-list">
            <!-- 這裡將由JavaScript動態填充數據 -->
          </div>
          <button class="btn 限AdminBtn" onclick="addNewItem()">新增產品</button>
        </div>
    </section>

    <section id="VIP設置page" class="section">
      <div class="content">

        <div id="有網頁標題再顯" class="none" >
          <h2 title="您的會員數"><strong id="本公司名稱B">公司名稱</strong>現有<strong id="Vip會員數" style="color: #3498db;">0</strong>位成員</h2>
          <hr>

          <h2 title="將您的網址分享給您的使用者">您的網址</h2>
          <a onclick="_下載QRCode('您的網址qrcode')"><canvas id="您的網址qrcode">您的網址qrcode</canvas></a>
          <br><br>
          <a class="btn" href='https://wa.me/85264071181/?text=我要購買VIP' >網址太長嗎? VIP會員可享專屬網址!!</a>
          <br>
          <input type="text" id="VipPegaIDInput" placeholder="請先修改您的公司名稱" title="您的網址" onclick="copyToClipboard('VipPegaIDInput')" readonly>
          <hr>
        </div>

          <h2>您的公司名稱</h2>
          <input type="text" id="網頁標題Input" placeholder="請修改您的公司名稱" title="請修改您的公司名稱" >
          <button class="btn" onclick="_更新數據B('公司資料', document.getElementById('網頁標題Input').value, cut文件前綴);//VIP的網料" >更新公司名稱</button>
                          
      </div>
    </section>

    <p class="mokJsApi_copyright" style="text-align: center;">版權</p>
    <a id="backToTopBtn" href="#searchInput"> ^ </a>
    
  </div>
</body>





















<!--
/* $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

          :::        ::::::::                       :::::::::           :::    :::::::::::           :::
       :+: :+:     :+:    :+:                      :+:    :+:        :+: :+:      :+:             :+: :+:
     +:+   +:+    +:+                             +:+    +:+       +:+   +:+     +:+            +:+   +:+
   +#++:++#++:   +#+                             +#+    +:+      +#++:++#++:    +#+           +#++:++#++:
  +#+     +#+   +#+                             +#+    +#+      +#+     +#+    +#+           +#+     +#+
 #+#     #+#   #+#    #+#                      #+#    #+#      #+#     #+#    #+#           #+#     #+#
###     ###    ########       ##########      #########       ###     ###    ###           ###     ###

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
-->


<script>
  // mokaki ////////////////// 必須放頭

  let 已登入帳號 
    , 帳號數據庫
    , 本頁數據庫編號 = '莫氏倉庫管理系統產品料'
    , cut文件前綴 = '.io/d0/'
    , 產品料 = null
    , 本公司名稱 = '莫氏倉庫管理系統';

    async function Start() {
      已登入帳號 = _帳戶名稱() 
      帳號數據庫 = _數據文件()
      if (已登入帳號) {
        //_不同分流退出()
        產品料 = await _取本頁數據庫(本頁數據庫編號, '產品料','html碼');
      }

      _aki睇錯([
        `已登入帳號: ${已登入帳號}`,
        `帳號數據庫: ${帳號數據庫}`,
        `本頁數據庫編號: ${本頁數據庫編號}`,
        `cut文件前綴: ${cut文件前綴}`
      ]);

      _不同分流退出()

      // 顯示搜尋結果
      $('#searchInput').on('input', function() { _Aki搜尋($(this).val(),'.inventory-item'); });

  }


  async function _檢查VIP網() {

    // VIP的網標題
    本公司名稱 = await _取本頁數據庫('公司資料', '離線VIP網料','html碼');// VIP的網料
    if(!本公司名稱) return

    $('#有網頁標題再顯').show();

    // qqqqqqqqqqqqqq
    document.title = 本公司名稱;
    document.getElementById('本公司名稱').innerHTML = (本公司名稱);
    $('#網頁標題Input').val(本公司名稱);

    _changeStyle(); // 改變 VIP的網 css

    // VIP自己登入
    if(已登入帳號) {
        // VIP的設置
        document.getElementById('VipPegaIDInput').value = 帳號數據庫.replace('/d0/','/?0x').replace('/d/','/?0x');

        Vip的會員數 = await _取本頁數據庫('VIP的UserID', 'VIP的UserID','html碼');
        $('#本公司名稱B').text(本公司名稱);
        if(Vip的會員數 != null){
          $('#Vip會員數').text(Vip的會員數.split('!!').length - 1);
        }
      }

    // VIP的user登入
    vip登入鍵 = `<a href="javascript:void(0);" onclick="Vip我會員登入()" >成員登入</a>`
    if(!已登入帳號) $('.dropdown').html(vip登入鍵);

    // VIP登入
    //if(!localStorage.getItem('VipAdmin標記')) $('.mokJsApi_copyright').prepend(vip登入鍵);
    // 新增成員
    if(localStorage.getItem('VipAdmin標記')) $('.dropdown-content').prepend(`<a href="javascript:void(0);" onclick="新增成員()" >新增成員</a>`)
    //else $('.dropdown-content').prepend(`<a href="javascript:void(0);" onclick="新增成員()" >新增44成員</a>`)

    _生成QRCode('VipPegaIDInput','您的網址qrcode')
    
  }

  function 新增成員() {
    登出莫氏VIP(['帳戶名稱','VipAdmin標記']); // 數據文件
    window.location.href=`${location.href}#???`;
    _vipLogin分流('???',本公司名稱,'../login.html')
  }

  function Vip我會員登入() {
    window.location.href=`${location.href}#???`;
    _vipLogin分流('???',本公司名稱,'../login.html')
  }

  琪琪修改()
  // 最少等500ms 才檢查VIP網
  setTimeout(function() { _檢查VIP網()  }, 300);

</script>





















<!--
/* $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

    :::       :::       ::::::::::       :::::::::                       :::::::::           :::    :::::::::::           :::
   :+:       :+:       :+:              :+:    :+:                      :+:    :+:        :+: :+:      :+:             :+: :+:
  +:+       +:+       +:+              +:+    +:+                      +:+    +:+       +:+   +:+     +:+            +:+   +:+
 +#+  +:+  +#+       +#++:++#         +#++:++#+                       +#+    +:+      +#++:++#++:    +#+           +#++:++#++:
+#+ +#+#+ +#+       +#+              +#+    +#+                      +#+    +#+      +#+     +#+    +#+           +#+     +#+
#+#+# #+#+#        #+#              #+#    #+#                      #+#    #+#      #+#     #+#    #+#           #+#     #+#
###   ###         ##########       #########       ##########      #########       ###     ###    ###           ###     ###

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
-->


<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>


  // 取帳戶 數據 (庫存)
  let inventoryData = 產品料 
  console.log('產品料 VIP==', 產品料);

  //  沒'產品料' = demo
  if(!inventoryData) inventoryData = [
  {
    "code": "P001",
    "productNumber": "NUT-0032131231333132",
    "quantity": 300,
    "location": "A-1-1",
    "lastUpdated": "2023-06-15",
    "responsiblePerson": "張三2313",
    "boxVolume": "0.5 m³",
    "boxWeight": "15 kg",
    "boxQuantity": "6 盒, 每盒 50 件33333",
    "locationImage": "https://example.com/location/P001.jpg",
    "boxImage": "https://example.com/box/P001.jpg",
    "productImage": "https://example.com/product/P001.jpg"
  },
  {
    "productNumber": "NUT-002",
    "code": "P002",
    "quantity": 500,
    "location": "A-1-2",
    "lastUpdated": "2023-05-02",
    "responsiblePerson": "李四",
    "boxVolume": "0.8 m³",
    "boxWeight": "20 kg",
    "boxQuantity": "5 盒, 每盒 100 件",
    "locationImage": "https://example.com/location/P002.jpg",
    "boxImage": "https://example.com/box/P002.jpg",
    "productImage": "https://example.com/product/P002.jpg"
  },
  {
    "productNumber": "NUT-003",
    "code": "P003",
    "quantity": 250,
    "location": "A-1-3",
    "lastUpdated": "2023-07-10",
    "responsiblePerson": "王五",
    "boxVolume": "0.6 m³",
    "boxWeight": "18 kg",
    "boxQuantity": "4 盒, 每盒 75 件",
    "locationImage": "https://example.com/location/P003.jpg",
    "boxImage": "https://example.com/box/P003.jpg",
    "productImage": "https://example.com/product/P003.jpg"
  },
  {
    "productNumber": "NUT-004",
    "code": "P004",
    "quantity": 400,
    "location": "A-1-4",
    "lastUpdated": "2023-08-20",
    "responsiblePerson": "趙六",
    "boxVolume": "0.7 m³",
    "boxWeight": "22 kg",
    "boxQuantity": "3 盒, 每盒 100 件",
    "locationImage": "https://example.com/location/P004.jpg",
    "boxImage": "https://example.com/box/P004.jpg",
    "productImage": "https://example.com/product/P004.jpg"
  },
  {
    "productNumber": "NUT-005",
    "code": "P005",
    "quantity": 600,
    "location": "A-1-5",
    "lastUpdated": "2023-09-15",
    "responsiblePerson": "李四",
    "boxVolume": "0.9 m³",
    "boxWeight": "25 kg",
    "boxQuantity": "2 盒, 每盒 150 件",
    "locationImage": "https://example.com/location/P005.jpg",
    "boxImage": "https://example.com/box/P005.jpg",
    "productImage": "https://example.com/product/P005.jpg"
  },
  {
    "productNumber": "NUT-006",
    "code": "P006",
    "quantity": 350,
    "location": "A-1-6",
    "lastUpdated": "2023-10-01",
    "responsiblePerson": "陳七",
    "boxVolume": "0.4 m³",
    "boxWeight": "10 kg",
    "boxQuantity": "8 盒, 每盒 40 件",
    "locationImage": "https://example.com/location/P006.jpg",
    "boxImage": "https://example.com/box/P006.jpg",
    "productImage": "https://example.com/product/P006.jpg"
  },
  {
    "productNumber": "NUT-007",
    "code": "P007",
    "quantity": 700,
    "location": "A-1-7",
    "lastUpdated": "2023-08-05",
    "responsiblePerson": "李四",
    "boxVolume": "1.0 m³",
    "boxWeight": "30 kg",
    "boxQuantity": "1 盒, 每盒 200 件",
    "locationImage": "https://example.com/location/P007.jpg",
    "boxImage": "https://example.com/box/P007.jpg",
    "productImage": "https://example.com/product/P007.jpg"
  },
  {
    "productNumber": "NUT-008",
    "code": "P008",
    "quantity": 150,
    "location": "A-1-8",
    "lastUpdated": "2023-09-20",
    "responsiblePerson": "趙六",
    "boxVolume": "0.3 m³",
    "boxWeight": "5 kg",
    "boxQuantity": "10 盒, 每盒 15 件",
    "locationImage": "https://example.com/location/P008.jpg",
    "boxImage": "https://example.com/box/P008.jpg",
    "productImage": "https://example.com/product/P008.jpg"
  },
  {
    "productNumber": "NUT-009",
    "code": "P009",
    "quantity": 400,
    "location": "A-1-9",
    "lastUpdated": "2023-06-30",
    "responsiblePerson": "陳七",
    "boxVolume": "0.6 m³",
    "boxWeight": "15 kg",
    "boxQuantity": "5 盒, 每盒 80 件",
    "locationImage": "https://example.com/location/P009.jpg",
    "boxImage": "https://example.com/box/P009.jpg",
    "productImage": "https://example.com/product/P009.jpg"
  },
  {
    "productNumber": "NUT-010",
    "code": "P010",
    "quantity": 250,
    "location": "A-1-10",
    "lastUpdated": "2023-07-25",
    "responsiblePerson": "王五",
    "boxVolume": "0.5 m³",
    "boxWeight": "12 kg",
    "boxQuantity": "7 盒, 每盒 30 件",
    "locationImage": "https://example.com/location/P010.jpg",
    "boxImage": "https://example.com/box/P010.jpg",
    "productImage": "https://example.com/product/P010.jpg"
  }
];



  // 庫存列表
  function renderInventoryList() {
    //console.log('inventoryData=',inventoryData) 
    const listContainer = document.getElementById('inventory-list');
    listContainer.innerHTML = '';
    inventoryData.forEach((item, index) => {
    const itemElement = document.createElement('div');
      itemElement.className = 'inventory-item';
      itemElement.setAttribute('data-code', item.code);
      itemElement.innerHTML = `
        <h3 title="產品編號" onclick="toggleHeight(${index + 1})">${item.productNumber}</h3>

        <!-- 產品圖片 -->
        <div class="product-images" id="img${index + 1}">
          <img src="${item.locationImage}" alt="位置圖 - ${item.productNumber}" width="200" height="150">
          <img src="${item.boxImage}" alt="原箱照片 - ${item.productNumber}" width="200" height="150">
          <img src="${item.productImage}" alt="產品圖 - ${item.productNumber}" width="200" height="150">
        </div>
        

        <div class="inventory-detail">
          <p title="產品條碼"><strong>產品條碼:</strong> ${item.code}</p>
          <p title="數量"><strong>數量:</strong> ${item.quantity}</p>
          <p title="儲存位置"><strong>位置:</strong> ${item.location}</p>
          <p title="原箱體積"><strong>原箱體積:</strong> ${item.boxVolume}</p>
          <p title="原箱重量"><strong>原箱重量:</strong> ${item.boxWeight}</p>
          <p title="每箱數量"><strong>每箱數量:</strong> ${item.boxQuantity}</p>
          
          <p title="最後更新日期"><strong>更新日期:</strong> ${item.lastUpdated}</p>
          <p title="負責人"><strong>負責人:</strong> ${item.responsiblePerson}</p>
        </div>
        <div>
          <button class="btn 限AdminBtn" onclick="editItem('${item.code}')">編輯</button>
          <button class="btn 限AdminBtn" onclick="deleteItem('${item.code}')">刪除</button>
        </div>
      `;
      listContainer.appendChild(itemElement);
    });
  }

  // 庫存加入新項目 
  function addNewItem() {
    const newItem = {
      productNumber: prompt('請輸入產品編號'),
      code: prompt('請輸入產品條碼'),
      quantity: parseInt(prompt('請輸入數量')),
      location: prompt('請輸入儲存位置'),
      lastUpdated: nowTime() ,
      responsiblePerson: 已登入帳號,
      boxVolume: prompt('請輸入原箱體積'),
      boxWeight: prompt('請輸入原箱重量'),
      boxQuantity: prompt('請輸入每箱數量 (例如: 10 盒, 每盒 100 件)'),
      // 產品圖片
      locationImage: prompt('請輸入位置圖網址'),
      boxImage: prompt('請輸入原箱照片網址'),
      productImage: prompt('請輸入產品圖網址')
    };
    
    inventoryData.push(newItem);
    _更新數據B(本頁數據庫編號, inventoryData, cut文件前綴)
    renderInventoryList();

  }

  // 編輯庫存 
  function editItem(code) {
    const item = inventoryData.find(item => item.code === code);
    const itemElement = document.querySelector(`.inventory-item[data-code="${code}"]`);
    if (item && itemElement) {
      itemElement.innerHTML = `

        
        <input type="text" value="${item.productNumber}" data-field="productNumber" placeholder="產品編號" title="產品編號">
        <!-- 產品圖片 -->
        <input type="text" value="${item.locationImage}" data-field="locationImage" placeholder="位置圖網址" title="位置圖網址">
        <input type="text" value="${item.boxImage}" data-field="boxImage" placeholder="原箱照片網址" title="原箱照片網址">
        <input type="text" value="${item.productImage}" data-field="productImage" placeholder="產品圖網址" title="產品圖網址">
        
        
        <input type="text" value="${item.code}" data-field="code" placeholder="產品條碼" title="產品條碼">
        <input type="number" value="${item.quantity}" data-field="quantity" placeholder="數量" title="數量">
        <input type="text" value="${item.location}" data-field="location" placeholder="儲存位置" title="儲存位置">

        <input type="text" value="${item.boxVolume}" data-field="boxVolume" placeholder="原箱體積" title="原箱體積">
        <input type="text" value="${item.boxWeight}" data-field="boxWeight" placeholder="原箱重量" title="原箱重量">
        <input type="text" value="${item.boxQuantity}" data-field="boxQuantity" placeholder="每箱數量" title="每箱數量(例如: 10 盒, 每盒 100 件)">


        <input type="date" value="${item.lastUpdated}" data-field="lastUpdated" title=最後更新日期">
        <input type="text" value="${item.responsiblePerson}" data-field="responsiblePerson" placeholder="負責人" title="負責人">
        <button class="btn" onclick="saveItem('${code}')">保存</button>
        <button class="btn" onclick="cancelEdit('${code}')">取消</button>
      `;
      itemElement.classList.add('edit-mode');
    }
  }

  // 保存編輯庫存 
  function saveItem(oldCode) {
    const itemElement = document.querySelector(`.inventory-item[data-code="${oldCode}"]`);
    if (itemElement) {
      const newItem = {
        code: itemElement.querySelector('input[data-field="code"]').value,
        productNumber: itemElement.querySelector('input[data-field="productNumber"]').value,
        quantity: parseInt(itemElement.querySelector('input[data-field="quantity"]').value),
        location: itemElement.querySelector('input[data-field="location"]').value,
        lastUpdated: itemElement.querySelector('input[data-field="lastUpdated"]').value,
        responsiblePerson: itemElement.querySelector('input[data-field="responsiblePerson"]').value,
        boxVolume: itemElement.querySelector('input[data-field="boxVolume"]').value,
        boxWeight: itemElement.querySelector('input[data-field="boxWeight"]').value,
        boxQuantity: itemElement.querySelector('input[data-field="boxQuantity"]').value,

        // 圖URL
        locationImage: itemElement.querySelector('input[data-field="locationImage"]').value,
        boxImage: itemElement.querySelector('input[data-field="boxImage"]').value,
        productImage: itemElement.querySelector('input[data-field="productImage"]').value
      };
      
      const index = inventoryData.findIndex(item => item.code === oldCode);
      if (index !== -1) {
        inventoryData[index] = newItem;
      }

      _更新數據B(本頁數據庫編號, inventoryData, cut文件前綴)
      renderInventoryList();
    }
  }

  // 取消編輯項目
  function cancelEdit(code) {
    renderInventoryList();
  }


    // 刪除項目
    function deleteItem(code) {
    if (confirm('確定要刪除此項目嗎？')) {
      inventoryData = inventoryData.filter(item => item.code !== code);

      _更新數據B(本頁數據庫編號, inventoryData, cut文件前綴)
      renderInventoryList();
    }
  }
  // 初始化列表
  renderInventoryList()
</script>




























<!--
/* $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

      ::::::::       ::::::::       ::::::::
    :+:    :+:     :+:    :+:     :+:    :+:
   +:+            +:+            +:+
  +#+            +#++:++#++     +#++:++#++
 +#+                   +#+            +#+
#+#    #+#     #+#    #+#     #+#    #+#
########       ########       ########

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
-->

<script>
  // mokaki ////////////////// 要放模版後
  function 帳號管理btn轉css() {

    if (已登入帳號) {
      $('.dropdown').html(`
        <p id="dropdownToggle">${已登入帳號}</p>
        <div class="dropdown-content">
          <!--<a id="登入Btn" href="javascript:void(0);" onclick="登出莫氏VIP(['帳戶名稱','VipAdmin標記'])">登出</a>-->

          <a href="javascript:void(0);" onclick="登出莫氏VIP(['帳戶名稱','數據文件','離線VIP網料', '產品料', 'VIP的UserID','VipAdmin標記','數據中VIP的網模版'])">登出並清除記錄</a>
        </div>
      `);
    }
    else {console.log('未登入') }
    
    if(localStorage.getItem('VipAdmin標記')) {
      $('.限AdminBtn').css('display', 'block');
      $('#dropdownToggle').text(`${已登入帳號} *`);
      $('.dropdown-content').prepend(`
          <a href="javascript:void(0);" onclick="_導航換頁('VIP設置')" id="VIP設置btn" class="page用btn" >設置</a>
      `);
    }

    // 登入高度變化
    try {
      document.getElementById('dropdownToggle').addEventListener('click', function() {
          const dropdownContent = document.querySelector('.dropdown-content');
          // 檢查當前高度
          if (dropdownContent.style.height === '0px' || dropdownContent.style.height === '') {
            // 設置為自動高度以顯示內容
            dropdownContent.style.height = dropdownContent.scrollHeight + 'px';
          } else {
            // 收起內容
          dropdownContent.style.height = '0px';
        }
        });
    } catch (error) {console.log('未登入') }
  }


  // 顯示/隱藏 照片
  // https://chateverywhere.app?shareable_conversation_id=33028325-866f-48f3-8b73-9c7649f2b7eb
  const expandedStates = {}; // 用于存储每个 id 的展开状态

  function toggleHeight(id) {
      const productImages = document.querySelector(`#img${id}`);
      
      // 初始化该 id 的状态为 false（未展开），如果没有设置的话
      if (expandedStates[id] === undefined) {
          expandedStates[id] = false;
      }

      if (expandedStates[id]) {
          productImages.style.height = '0px'; // 恢复为预设高度
      } else {
          productImages.style.height = 'auto'; // 设置为自动高度
      }
      
      // 切换状态
      expandedStates[id] = !expandedStates[id];
  }



  





  function _changeStyle() {
    const style = document.getElementById('ChangCss');
    style.innerHTML = `
      
    .限AdminBtn{display:none;}
    #searchInput, #VipPegaIDInput, #網頁標題Input {width: 95%;padding: 10px;border: none;border-radius: 5px;background-color: rgba(42, 42, 58, 0.8);color: #e0e0e0;font-size: 1em;backdrop-filter: blur(5px);    }
    #searchInput:focus {outline: none;box-shadow: 0 0 0 2px #4fd1c5;    }


    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f0f0f0;}
    .container { max-width: 100%; padding: 10px;}
    header { background-color: #3498db; color: white; text-align: center; padding: 1em;}
    nav { background-color: #2980b9; padding: 10px; display: flex; justify-content: space-around; flex-wrap: wrap;}

    nav a, nav .dropdown{ color: white; text-decoration: none; padding: 10px; margin: 5px; flex-grow: 1; text-align: center; background-color: #3498db; border-radius: 5px; }
    nav a{display: flex;justify-content: center; /* 水平置中 */align-items: center; /* 垂直置中 */}

    .dropdown-content {  transition: height 1s ease; /* 變更高度的過渡效果 */  overflow: hidden; /* 隱藏溢出的內容 */  height: 0; /* 初始高度為0 */  background-color: rgba(0, 0, 0, 0);  text-align: center;  z-index: 1000;}
    .dropdown-content a {color: black;text-decoration: none;display: block;text-align: center;background-color: #3498db;}
    .dropdown-content a:hover {background-color: #5fb8f3;}

    .content { background-color: white; padding: 15px; margin-top: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    .inventory-item { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 5px;}
    .inventory-item h3 { margin-top: 0; margin-right: 2%;}
    .inventory-detail { display: flex; justify-content: space-between; flex-wrap: wrap;}
    .inventory-detail p { margin: 5px 0; flex-basis: 48%;}
    .btn { background-color: #3498db; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px; margin-top: 10px; width: 100%; text-align: center;}
    .btn:hover { background-color: #2980b9;}
    .edit-mode input { width: 100%; box-sizing: border-box; padding: 5px; margin-bottom: 5px;}

    .product-images {    height: 0px; /* 預設高度 */overflow: hidden; /* 隱藏超出部分 */}
    .product-images { display: flex; justify-content: space-between; flex-wrap: wrap; margin-top: 15px;}
    .product-images img { width: 32%; margin-bottom: 10px; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.1);}
    
    @media (min-width: 768px) { .container {   padding: 20px; }
      .inventory-item {   display: flex;   justify-content: space-between;   align-items: center; }
      .inventory-detail {   flex-grow: 1; }
      .btn {   width: auto;   margin-left: 10px; }
      .product-images img {   width: 24%; }
    }

    /* 隱藏顯示版塊 */    
    .container {height: 100vh; /* 設定父容器的高度 */overflow: hidden; /* 確保內容不會超出父容器 */}
    .section { max-height: 0;overflow: hidden;transition: max-height 0.5s ease;    }
    .section.active { max-height: calc(100% - 50px); /* 設定為父容器的 100% */overflow-y: auto; /* 顯示滾動條 */}
    
    /* 滾動條美化 Firefox */
    * { scrollbar-width: none; /* 滾動條寬度 */}
    /* 返回頂端 */
    #backToTopBtn {position: relative;bottom: 30px;left: 90%;z-index: 99;background-color: #297fb900;color: white;border: none;padding: 10px 15px;border-radius: 50%;cursor: pointer;}
    #backToTopBtn:hover {background-color: #5fb8f3;}
    .none{display:none;}
    `
  }

  帳號管理btn轉css()

</script>
























<!--
/* $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

      :::            :::        ::::    :::       ::::::::      :::    :::
     :+:          :+: :+:      :+:+:   :+:      :+:    :+:     :+:    :+:
    +:+         +:+   +:+     :+:+:+  +:+      +:+            +:+    +:+
   +#+        +#++:++#++:    +#+ +:+ +#+      :#:            +#+    +:+
  +#+        +#+     +#+    +#+  +#+#+#      +#+   +#+#     +#+    +#+
 #+#        #+#     #+#    #+#   #+#+#      #+#    #+#     #+#    #+#
########## ###     ###    ###    ####       ########       ########

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
-->

<script src="https://cdn.staticfile.net/translate.js/3.1.7/translate.js">// 翻譯 放最後</script>
<script>
    translate.service.use('client.edge'); //設置機器翻譯服務通道，直接客戶端本身，不依賴服務端 。相關說明參考 http://translate.zvo.cn/43086.html
    //進行翻譯
    setTimeout(function() { translate.execute()  }, 800);
</script>
</html>